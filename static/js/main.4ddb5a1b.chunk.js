(this["webpackJsonpproject-5-weather-synth-app"]=this["webpackJsonpproject-5-weather-synth-app"]||[]).push([[0],{19:function(e,t,a){e.exports=a(43)},24:function(e,t,a){},25:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(16),r=a.n(i),l=(a(24),a(18)),c=a(3),s=a(4),u=a(6),h=a(5),d=(a(25),a(17)),m=a.n(d),p=a(2),v=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).getFormInfo=function(t){e.setState({userChoice:t.target.value})},e.state={userChoice:""},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("nav",null,o.a.createElement("form",{action:""},o.a.createElement("select",{onChange:this.getFormInfo,value:this.state.userChoice,name:"whichCity",id:"whichCity"},o.a.createElement("option",{value:""},"Choose A City"),o.a.createElement("option",{value:"4118"},"Toronto"),o.a.createElement("option",{value:"565346"},"Helsinki"),o.a.createElement("option",{value:"1532755"},"Casablanca"),o.a.createElement("option",{value:"2458833"},"New Orleans"),o.a.createElement("option",{value:"15015372"},"Kyoto"),o.a.createElement("option",{value:"2351310"},"Wellington")),o.a.createElement("button",{onClick:function(t){return e.props.handleChange(t,e.state.userChoice)},type:"submit"},"Launch")))}}]),a}(n.Component),b=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).onClickLandingPage=function(){e.setState({description:!1}),console.log("clicked"),console.log(e.state.description)},e.state={description:!0},e}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,this.state.description?o.a.createElement("div",{className:"landingPage1"},o.a.createElement("h2",null,"DESCRIPTION"),o.a.createElement("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit Corrupti aperiam quasi ipsa dolore quis sint quam doloribus fugit labore iure quos maiores sit temporibus laudantium doloremque debitis molestiae commodi error."),o.a.createElement("button",{onClick:this.onClickLandingPage},"Enter")):o.a.createElement("div",{className:"landingPage2"}))}}]),a}(n.Component),g={0:"C3",1:"D3",2:"Eb3",3:"F3",4:"G3",5:"Ab3",6:"Bb3",7:"G2",8:"Bb2",9:"0"},y={0:"C3",1:"D3",2:"Eb3",3:"F3",4:"G3",5:"A3",6:"Bb3",7:"G2",8:"Bb2",9:"0"},E={0:"F3",1:"Eb3",2:"C3",3:"Gb2",4:"D3",5:"A3",6:"Bb2",7:"Gb2",8:"F1",9:"0"},f={0:"C3",1:"Db3",2:"E3",3:"F2",4:"Gb3",5:"Ab1",6:"B2",7:"C2",8:"0",9:"0"},w=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).getWeather=function(){e.setState({loading:!0},(function(){var t="https://www.metaweather.com/api/location/".concat(e.state.citySelect);m()({method:"GET",url:"https://proxy.hackeryou.com",params:{reqUrl:t}}).then((function(t){var a=t.data.consolidated_weather[0];p.Transport.stop(),e.setState({windSpeed:a.wind_speed,weatherStatis:a.weather_state_abbr,windDirection:a.wind_direction,visibility:a.visibility,humidity:a.humidity,loading:!1})}))}))},e.handleChange=function(t,a){t.preventDefault(),console.log("hello?"),e.setState({citySelect:a},(function(){return e.getWeather()}))},e.repeat=function(t,a){console.log("index #",a);var n=1e11*(e.state.windDirection+e.state.visibility),o=Math.round(n).toString(),i=Object(l.a)(o).map((function(t){return"hr"===e.state.weatherStatis?E[t]:"lc"===e.state.weatherStatis?y[t]:"s"===e.state.weatherStatis?g[t]:"t"===e.state.weatherStatis?f[t]:void console.log(t)})),r=i;console.log(r);var c=i[a%i.length];e.synth.triggerAttackRelease(c,"8n",t)},e.scheduleRepeat=function(){var t=0;console.log(t,"index?"),p.Transport.scheduleRepeat((function(a){e.repeat(a,t),t++}),"8n")},e.startTone=function(){var t=e.state.humidity/100-.15;console.log(t),e.setState({melody:!0}),e.synth.volume.value=-20;var a=new p.JCReverb(t);console.log(p.JCReverb.value);var n=new p.Phaser({frequency:0,octaves:2,baseFrequency:0});e.synth.connect(n),n.connect(a),a.toMaster(),p.Transport.bpm.value=8*e.state.windSpeed,p.Transport.start(),e.synth.triggerAttackRelease(),e.scheduleRepeat()},e.stopTone=function(){p.Transport.stop(),e.setState({melody:!1})},e.synth=new p.Synth({oscillator:{type:"sine"},envelope:{attack:.005,decay:.1,sustain:.3,release:.5}}),e.state={citySelect:"",weatherStatis:"",windSpeed:0,windDirection:0,visibility:0,humidity:0,loading:!1,melody:!1,description:!0},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getWeather()}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(b,null),o.a.createElement("h1",null,o.a.createElement("span",{className:"headerWordOne"},"Weather")," ",o.a.createElement("span",{className:"headerWordTwo"},"Synth")),o.a.createElement(v,{handleChange:this.handleChange}),o.a.createElement("section",null,this.state.loading?o.a.createElement("i",{className:"fas fa-spinner fa-pulse"}):o.a.createElement("div",{className:"startStop"},o.a.createElement("button",{onClick:this.state.melody?null:this.startTone,id:"startSong"},"Start"),o.a.createElement("button",{onClick:this.stopTone,id:"stopSong"},"Stop"))),o.a.createElement("footer",null,o.a.createElement("p",null,"Build by Patrick Sherard"),o.a.createElement("p",null,"Made with Tone.js ",o.a.createElement("span",null,"and MetaWeather"))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.4ddb5a1b.chunk.js.map