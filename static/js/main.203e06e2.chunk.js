(this["webpackJsonpproject-5-weather-synth-app"]=this["webpackJsonpproject-5-weather-synth-app"]||[]).push([[0],{19:function(e,t,a){e.exports=a(43)},24:function(e,t,a){},42:function(e,t,a){e.exports=a.p+"static/media/skyline.8159706a.png"},43:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(16),r=a.n(l),o=a(18),s=a(3),c=a(4),h=a(6),u=a(5),m=(a(24),a(17)),d=a.n(m),p=a(2),E=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).getFormInfo=function(t){e.setState({userChoice:t.target.value})},e.nullButton=function(e){e.preventDefault()},e.state={userChoice:""},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("nav",null,i.a.createElement("form",{className:"formMenu",action:""},i.a.createElement("select",{onChange:this.getFormInfo,value:this.state.userChoice,name:"whichCity",id:"whichCity"},i.a.createElement("option",{value:"",disabled:!0,selected:!0},"Choose A City"),i.a.createElement("option",{value:"4118"},"Toronto"),i.a.createElement("option",{value:"565346"},"Helsinki"),i.a.createElement("option",{value:"1532755"},"Casablanca"),i.a.createElement("option",{value:"2458833"},"New Orleans"),i.a.createElement("option",{value:"15015372"},"Kyoto"),i.a.createElement("option",{value:"2351310"},"Wellington")),i.a.createElement("button",{className:"btnLaunch btnGlobal",onClick:this.props.melodyChange?this.nullButton:function(t){return e.props.handleChange(t,e.state.userChoice)},type:"submit"},"Launch")))}}]),a}(n.Component),w=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).onClickLandingPage=function(){e.setState({description:!1})},e.state={description:!0},e}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,this.state.description?i.a.createElement("div",{className:"landingPage"},i.a.createElement("h2",null,"DESCRIPTION"),i.a.createElement("p",null,"This app collects real time data from different cities across the world and composes it into a soundscape that signifies the active weather system present in your selected city. Various weather parameters affect the synth by impacting which notes are played and in what scale. Similar to a wind chime, the speed of wind determines the pace of the composition."),i.a.createElement("ul",null,i.a.createElement("li",null,"I: Choose a city"),i.a.createElement("li",null,"II: Launch the city"),i.a.createElement("li",null,"III: Press START to hear melody"),i.a.createElement("li",null,"IV: Press STOP to stop the melody and choose new city")),i.a.createElement("button",{className:"btnGlobal btnLandingPage",onClick:this.onClickLandingPage},"Enter")):"")}}]),a}(n.Component),y={0:"C3",1:"D3",2:"E3",3:"F3",4:"G3",5:"A3",6:"B3",7:"G2",8:"B2",9:"0"},b={0:"C3",1:"D3",2:"Eb3",3:"F3",4:"G3",5:"A3",6:"Bb3",7:"G2",8:"Bb2",9:"0"},v={0:"F3",1:"Eb3",2:"C3",3:"Gb2",4:"D3",5:"A3",6:"Bb2",7:"Gb2",8:"F1",9:"0"},f={0:"C3",1:"D3",2:"E3",3:"F#3",4:"G3",5:"A3",6:"B3",7:"C2",8:"F#2",9:"0"},g={0:"C3",1:"Db3",2:"F3",3:"Gb3",4:"Bb3",5:"C4",6:"Bb2",7:"Gb2",8:"Db4",9:"0"},S=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).getWeather=function(){e.setState({loading:!0},(function(){var t="https://www.metaweather.com/api/location/".concat(e.state.citySelect);console.log(t),d()({method:"GET",url:"https://proxy.hackeryou.com",params:{reqUrl:t}}).then((function(t){var a=t.data.consolidated_weather[0];p.Transport.stop(),console.log(a.wind_direction),e.setState({cityName:t.data.title,windSpeed:a.wind_speed,weatherStatis:a.weather_state_abbr,weatherName:a.weather_state_name,windDirection:a.wind_direction,visibility:a.visibility,humidity:a.humidity,loading:!1})})).catch((function(){alert("Please Pick A City"),window.location.reload()}))}))},e.handleChange=function(t,a){t.preventDefault(),e.setState({citySelect:a},(function(){return e.getWeather()}))},e.repeat=function(t,a){var n=1e11*(e.state.windDirection+e.state.visibility),i=Math.round(n).toString(),l=Object(o.a)(i).map((function(t){return"lc"===e.state.weatherStatis||"hc"===e.state.weatherStatis?y[t]:"lr"===e.state.weatherStatis?b[t]:"s"===e.state.weatherStatis?v[t]:"c"===e.state.weatherStatis?f[t]:"hr"===e.state.weatherStatis?g[t]:void 0})),r=l[a%l.length];e.synth.triggerAttackRelease(r,"8n",t)},e.scheduleRepeat=function(){var t=0;p.Transport.scheduleRepeat((function(a){e.repeat(a,t),t++}),"8n")},e.startTone=function(){e.setState({melody:!0}),e.synth.toMaster(),p.Transport.bpm.value=10*e.state.windSpeed,p.Transport.start(),e.synth.triggerAttackRelease(),e.scheduleRepeat()},e.stopTone=function(){p.Transport.stop(),e.setState({melody:!1})},e.onClickLandingPage=function(){e.setState({description:!1})},e.synth=new p.Synth({oscillator:{type:"triangle"},envelope:{attack:.005,decay:.1,sustain:.3,release:.5}}),e.state={citySelect:"",cityName:"",weatherStatis:"",weatherName:"",windSpeed:0,windDirection:0,visibility:0,humidity:0,loading:!1,melody:!1,description:!0},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",{className:"zeus"},i.a.createElement(w,null),"hr"===this.state.weatherStatis||"s"===this.state.weatherStatis||"lr"===this.state.weatherStatis?i.a.createElement("div",{className:"cloudBG"},i.a.createElement("div",{className:"rain"})):i.a.createElement("div",{className:"clearBG"}),"lc"===this.state.weatherStatis||"hc"===this.state.weatherStatis?i.a.createElement("div",{className:"cloudBG"}):i.a.createElement("div",{className:"clearBG"}),i.a.createElement("header",null,i.a.createElement("div",{className:"headerTitle"},i.a.createElement("h1",null,"WEATHER SYNTH"))),i.a.createElement("img",{src:a(42),alt:""}),i.a.createElement("section",{className:"controlPanel"},this.state.loading?i.a.createElement("i",{className:"fas fa-spinner fa-pulse"}):i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(E,{handleChange:this.handleChange,melodyChange:this.state.melody}),i.a.createElement("div",{className:"startStop"},i.a.createElement("button",{className:"btnGlobal btnStart",onClick:this.state.melody?null:this.startTone,id:"startSong"},"Start"),i.a.createElement("button",{className:"btnGlobal btnStop",onClick:this.stopTone,id:"stopSong"},"Stop"))),i.a.createElement("div",null,i.a.createElement("p",null,"City : ",this.state.cityName),i.a.createElement("p",null,"Wind Speed : ",Math.round(1.60934*this.state.windSpeed*100)/100," km/h"),i.a.createElement("p",null,"Weather Condition : ",this.state.weatherName)))),i.a.createElement("footer",null,i.a.createElement("p",null,"Built by Patrick Sherrard"),i.a.createElement("p",null,"Made with Tone.js and MetaWeather")))}}]),n}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.203e06e2.chunk.js.map